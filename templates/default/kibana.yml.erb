#########################################
# Managed by Chef. Do not modify by hand!
#########################################

# Kibana is served by a back end server. This setting specifies the port to use.
<% if @config.key?('server.port') %>
server.port: <%= @config['server.port'] %>
<% else -%>
server.port: 5601
<% end -%>

# Specifies the address to which the Kibana server will bind. IP addresses and host names are both valid values.
# The default is 'localhost', which usually means remote machines will not be able to connect.
# To allow connections from remote users, set this parameter to a non-loopback address.
<% if @config.key?('server.host') %>
server.host: <%= @config['server.host'] %>
<% else -%>
server.host: "localhost"
<% end -%>

# Enables you to specify a path to mount Kibana at if you are running behind a proxy. This only affects
# the URLs generated by Kibana, your proxy is expected to remove the basePath value before forwarding requests
# to Kibana. This setting cannot end in a slash.
<% if @config.key?('server.basePath') %>
server.basePath: <%= @config['server.basePath'] %>
<% else -%>
#server.basePath: ""
<% end -%>

# The maximum payload size in bytes for incoming server requests.
<% if @config.key?('server.maxPayloadBytes') %>
server.maxPayloadBytes: <%= @config['server.maxPayloadBytes'] %>
<% else -%>
#server.maxPayloadBytes: 1048576
<% end -%>

# The Kibana server's name.  This is used for display purposes.
<% if @config.key?('server.name') %>
server.name: <%= @config['server.name'] %>
<% else -%>
#server.name: "your-hostname"
<% end -%>

# The URL of the Elasticsearch instance to use for all your queries.
<% if @config.key?('elasticsearch.url') %>
elasticsearch.url: <%= @config['elasticsearch.url'] %>
<% else -%>
elasticsearch.url: "http://localhost:9200"
<% end -%>

# When this setting's value is true Kibana uses the hostname specified in the server.host
# setting. When the value of this setting is false, Kibana uses the hostname of the host
# that connects to this Kibana instance.
<% if @config.key?('elasticsearch.preserveHost') %>
elasticsearch.preserveHost: <%= @config['elasticsearch.preserveHost'] %>
<% else -%>
#elasticsearch.preserveHost: true
<% end -%>

# Kibana uses an index in Elasticsearch to store saved searches, visualizations and
# dashboards. Kibana creates a new index if the index doesn't already exist.
<% if @config.key?('kibana.index') %>
kibana.index: <%= @config['kibana.index'] %>
<% else -%>
#kibana.index: ".kibana"
<% end -%>

# The default application to load.
<% if @config.key?('kibana.defaultAppId') %>
kibana.defaultAppId: <%= @config['kibana.defaultAppId'] %>
<% else -%>
#kibana.defaultAppId: "discover"
<% end -%>

# If your Elasticsearch is protected with basic authentication, these settings provide
# the username and password that the Kibana server uses to perform maintenance on the Kibana
# index at startup. Your Kibana users still need to authenticate with Elasticsearch, which
# is proxied through the Kibana server.
<% if @config.key?('elasticsearch.username') %>
elasticsearch.username: <%= @config['elasticsearch.username'] %>
<% else -%>
#elasticsearch.username: "user"
<% end -%>
<% if @config.key?('elasticsearch.password') %>
elasticsearch.password: <%= @config['elasticsearch.password'] %>
<% else -%>
#elasticsearch.password: "pass"
<% end -%>


# Enables SSL and paths to the PEM-format SSL certificate and SSL key files, respectively.
# These settings enable SSL for outgoing requests from the Kibana server to the browser.
<% if @config.key?('server.ssl.enabled') %>
server.ssl.enabled: <%= @config['server.ssl.enabled'] %>
<% else -%>
#server.ssl.enabled: false
<% end -%>
<% if @config.key?('server.ssl.cert') %>
server.ssl.certificate: <%= @config['server.ssl.cert'] %>
<% else -%>
#server.ssl.certificate: /path/to/your/server.crt
<% end -%>
<% if @config.key?('server.ssl.key') %>
server.ssl.key: <%= @config['server.ssl.key'] %>
<% else -%>
#server.ssl.key: /path/to/your/server.key
<% end -%>

# Optional settings that provide the paths to the PEM-format SSL certificate and key files.
# These files validate that your Elasticsearch backend uses the same key files.
<% if @config.key?('elasticsearch.ssl.certificate') %>
elasticsearch.ssl.certificate: <%= @config['elasticsearch.ssl.certificate'] %>
<% else -%>
#elasticsearch.ssl.certificate: /path/to/your/client.crt
<% end -%>
<% if @config.key?('elasticsearch.ssl.key') %>
elasticsearch.ssl.key: <%= @config['elasticsearch.ssl.key'] %>
<% else -%>
#elasticsearch.ssl.key: /path/to/your/client.key
<% end -%>

# Optional setting that enables you to specify a path to the PEM file for the certificate
# authority for your Elasticsearch instance.
<% if @config.key?('elasticsearch.ssl.certificateAuthorities') %>
elasticsearch.ssl.certificateAuthorities: [<%= @config['elasticsearch.ssl.certificateAuthorities'] %>]
<% else -%>
#elasticsearch.ssl.certificateAuthorities: [ "/path/to/your/CA.pem" ]
<% end -%>

# To disregard the validity of SSL certificates, change this setting's value to 'none'.
<% if @config.key?('elasticsearch.ssl.verify') %>
elasticsearch.ssl.verificationMode: <%= @config['elasticsearch.ssl.verificationMode'] %>
<% else -%>
#elasticsearch.ssl.verificationMode: full
<% end -%>

# Time in milliseconds to wait for Elasticsearch to respond to pings. Defaults to the value of
# the elasticsearch.requestTimeout setting.
<% if @config.key?('elasticsearch.pingTimeout') %>
elasticsearch.pingTimeout: <%= @config['elasticsearch.pingTimeout'] %>
<% else -%>
#elasticsearch.pingTimeout: 1500
<% end -%>

# Time in milliseconds to wait for responses from the back end or Elasticsearch. This value
# must be a positive integer.
<% if @config.key?('elasticsearch.requestTimeout') %>
elasticsearch.requestTimeout: <%= @config['elasticsearch.requestTimeout'] %>
<% else -%>
#elasticsearch.requestTimeout: 30000
<% end -%>

# List of Kibana client-side headers to send to Elasticsearch. To send *no* client-side
# headers, set this value to [] (an empty list).
<% if @config.key?('elasticsearch.requestHeadersWhitelist') %>
elasticsearch.requestHeadersWhitelist: <%= @config['elasticsearch.requestHeadersWhitelist'] %>
<% else -%>
#elasticsearch.requestHeadersWhitelist: [ authorization ]
<% end -%>

# Header names and values that are sent to Elasticsearch. Any custom headers cannot be overwritten
# by client-side headers, regardless of the elasticsearch.requestHeadersWhitelist configuration.
<% if @config.key?('elasticsearch.customHeaders') %>
elasticsearch.customHeaders: <%= @config['elasticsearch.customHeaders'] %>
<% else -%>
#elasticsearch.customHeaders: {}
<% end -%>

# Time in milliseconds for Elasticsearch to wait for responses from shards. Set to 0 to disable.
<% if @config.key?('elasticsearch.shardTimeout') %>
elasticsearch.shardTimeout: <%= @config['elasticsearch.shardTimeout'] %>
<% else -%>
#elasticsearch.shardTimeout: 0
<% end -%>

# Time in milliseconds to wait for Elasticsearch at Kibana startup before retrying.
<% if @config.key?('elasticsearch.startupTimeout') %>
elasticsearch.startupTimeout: <%= @config['elasticsearch.startupTimeout'] %>
<% else -%>
#elasticsearch.startupTimeout: 5000
<% end -%>

# Specifies the path where Kibana creates the process ID file.
<% if @config.key?('pid.file') %>
pid.file: <%= @config['pid.file'] %>
<% else -%>
#pid.file: /var/run/kibana.pid
<% end -%>

# Enables you specify a file where Kibana stores log output.
<% if @config.key?('logging.dest') %>
logging.dest: <%= @config['logging.dest'] %>
<% else -%>
logging.dest: stdout
<% end -%>

# Set the value of this setting to true to suppress all logging output.
<% if @config.key?('logging.silent') %>
logging.silent: <%= @config['logging.silent'] %>
<% else -%>
#logging.silent: false
<% end -%>

# Set the value of this setting to true to suppress all logging output other than error messages.
<% if @config.key?('logging.quiet') %>
logging.quiet: <%= @config['logging.quiet'] %>
<% else -%>
#logging.quiet: false
<% end -%>

# Set the value of this setting to true to log all events, including system usage information
# and all requests.
<% if @config.key?('logging.verbose') %>
logging.verbose: <%= @config['logging.verbose'] %>
<% else -%>
#logging.verbose: false
<% end -%>

# Set the interval in milliseconds to sample system and process performance
# metrics. Minimum is 100ms. Defaults to 5000.
<% if @config.key?('ops.interval') %>
ops.interval: <%= @config['ops.interval'] %>
<% else -%>
#ops.interval: 5000
<% end -%>

# The default locale. This locale can be used in certain circumstances to substitute any missing
# translations.
<% if @config.key?('i18n.defaultLocale') %>
i18n.defaultLocale: <%= @config['i18n.defaultLocale'] %>
<% else -%>
#i18n.defaultLocale: "en"
<% end -%>